<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JavaScript for Everyone:DOM</title>
    <style></style>
  </head>
  <body>
    <div class="wrapper">
        <h1>Asabeneh Yetayeh challenges in <span>2020</span></h1>
        <h2 id="challenge">30DaysOfJavaScript Challenge</h2>
        <h2 id="time"></h2>
        <ul>
            <li>30DaysOfPython Challenge Done</li>
            <li>30DaysOfJavaScript Challenge Ongoing</li>
            <li>30DaysOfReact Challenge Coming</li>
            <li>30DaysOfFullStack Challenge Coming</li>
            <li>30DaysOfDataAnalysis Challenge Coming</li>
            <li>30DaysOfReactNative Challenge Coming</li>
            <li>30DaysOfMachineLearning Challenge Coming</li>
        </ul>
    </div>
    <script>
        const style = document.querySelector('style');
        const h1 = document.querySelector('h1');
        const h2 = document.querySelector('h2');
        const ul = document.querySelector('ul');
        const li = document.querySelectorAll('li');
        const showTime = document.getElementById('time');
        
        h1.style.fontSize = '1.8rem';
        
        style.innerHTML = `#challenge {
            font-size: 1rem;
            color: blue;
            text-decoration: underline}
          .wrapper {
              text-align: center;
              width: 500px;
              margin: auto;
              padding: 0;
          }
          li {
              list-style: none;
              padding: 1rem 1rem;
              margin: 2px 0px;
              text-align: left;
              width: 90%;
          }
          #time {
            display: inline-block;
            padding: 10px;
          }`;

        let complete = /done/gi
        let ongoing = /ongoing/gi
        let coming = /coming/gi
        for (let i = 0; i < li.length; i++) {
          if (complete.test(li[i].innerText)) {
            li[i].style.background = "green";
          } else if(ongoing.test(li[i].innerHTML)) {
            li[i].style.background = 'yellow';
          } else {
            li[i].style.background = 'red';
          }
        }

        const now = new Date();
        const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

        setInterval(() => {
          let year = now.getFullYear();
          let month = monthNames[now.getMonth()];
          let date = now.getDate();
          let hour = now.getHours();
          let minute = now.getMinutes();
          let second = now.getSeconds();

          let currentTime = `${month} ${date},${year} ${hour}:${minute}:${second}`;
          showTime.innerHTML = currentTime;
          console.log(currentTime);

          let r = Math.floor((Math.random() * 255)) + 1;
          let g = Math.floor((Math.random() * 255)) + 1;
          let b = Math.floor((Math.random() * 255)) + 1;
          showTime.style.background = `rgb(${r}, ${g}, ${b})`;
        }, 1000);
    </script>
  </body>
</html>
